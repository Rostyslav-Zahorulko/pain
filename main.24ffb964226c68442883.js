(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0HMw":function(e,a,t){},LlGi:function(e,a,t){e.exports=t.p+"images/photo-red.jpg"},QfWi:function(e,a,t){"use strict";t.r(a);t("0HMw");var n={headerSearchWarningShow:function(){return document.querySelector("#header-search-warning-show")},filmsGallery:document.querySelector("#films-gallery"),header:document.querySelector(".header-container-js"),logo:document.querySelector(".header-logo-js"),homeLink:document.querySelector(".navigation-list-item-link-home"),spinner:document.querySelector(".js-spinner"),openModalBtn:document.querySelector('[data-action="open-modal"]'),closeModalBtn:document.querySelector('[data-action="close-modal"]'),backdrop:document.querySelector(".js-backdrop"),logOutbutton:document.querySelector(".js-singOut-button"),userName:document.querySelector(".js-display-username"),paginationContainer:document.querySelector("#pagination")},s=(t("lYjL"),t("IvQZ"),t("8cZI"),t("lmye"),t("WB5j"),t("D/wG"),t("JBxO"),t("FdtR"),t("QDHd"),t("Muwe"),t("4NM0"),t("aZFp"),{homeHeader:'<div class=" header home-header header-container">\n  \n  <form action="" class="header-search-form" id="search-form">\n    <input type="text" name="query" class="header-search-form-input" placeholder="Поиск фильмов">\n    <button class="header-search-form-btn" type="submit"></button>\n  </form>\n  <p id="header-search-warning-show"  class="header-search-warning-show is-hidden">Search result not successful. Enter the correct movie name and</p>\n',myLibraryHeader:'<div class=" header my-library-header header-container">\n  \n  <ul class="header-button-list">\n    <li class="header-button-item"><button class="header-button header-button-watched is-active-btn">watched</button></li>\n    <li class="header-button-item"><button class="header-button header-button-queue">queue</button></li>\n  </ul>\n',modalHeader:'<div class="header modal-header header-container">\n'}),i=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],r=(t("fp7Y"),t("2c84")),l=t.n(r),o=document.querySelector(".js-spinner");function c(){o.classList.add("is-open")}function d(){o.classList.remove("is-open")}var u={query:"",page:1,filmsAmount:0,path:"https://api.themoviedb.org/3",key:"ffddee44025dd24685ea61d637d56d24",trendsUrl:"",setQuery:function(e){this.query=e},setPage:function(e){this.page=e},incrementPage:function(){this.page+=1},decrementPage:function(){this.page-=1},resetPage:function(){this.page=1},setFilmsAmount:function(e){this.filmsAmount=e}},m={filmsGallery:document.querySelector("#films-gallery"),searchForm:document.querySelector("#search-form"),notice:document.querySelector(".header-search-warning-show")};function p(){return fetch("https://api.themoviedb.org/3/search/movie?api_key=ffddee44025dd24685ea61d637d56d24&language=en-US&page="+u.page+"&include_adult=false&query="+u.query).then((function(e){return e.json()})).then((function(e){var a=e.results,t=e.total_results;if(0===a.length)return m.notice.classList.remove("is-hidden"),void(m.notice.textContent="Your search did not match any films. Please clarify the request!");m.filmsGallery.innerHTML="",a.map((function(e){var a=e.id,t=e.poster_path,n=e.title,s=e.release_date,r=e.genre_ids,l=i.filter((function(e){return r.includes(e.id)})).map((function(e){return e.name})),o=[];l.length<3?o=l:(o=l.slice(0,2)).push("Other");var c='\n<li class="films-gallery-item" data-id="'+a+'">\n  <img\n    class="films-gallery-item-image"\n    src="https://image.tmdb.org/t/p/w342'+t+'"\n    alt="«'+n+'» film poster"\n  >\n  <p class="films-gallery-item-title">'+n.toUpperCase()+'</p>\n  <p class="films-gallery-item-info">'+o.join(", ")+" | "+s.split("-")[0]+"</p>\n</li>\n";m.filmsGallery.insertAdjacentHTML("beforeend",c)})),u.setFilmsAmount(t),console.log("apiServise.filmsAmount: ",u.filmsAmount)}))}var g={filmsGallery:document.querySelector("#films-gallery"),paginationContainer:document.querySelector("#pagination")};function f(){var e={totalItems:u.filmsAmount,itemsPerPage:20,visiblePages:5,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}};new l.a("pagination",e)}function h(){g.paginationContainer.addEventListener("click",v),console.log("apiServise.page: ",u.page),console.log("Start")}function y(){g.paginationContainer.removeEventListener("click",v),console.log("apiServise.page: ",u.page),console.log("Stop")}function v(e){if("A"===e.target.nodeName){g.filmsGallery.innerHTML="",c();var a=e.target;switch(console.log("refs.filmsGallery.hasAttribute('data-feature'): ",g.filmsGallery.hasAttribute("data-feature")),a.className){case"tui-page-btn":return u.setPage(Number(a.textContent)),console.log("page: ",u.page),void(g.filmsGallery.hasAttribute("data-feature")?I().catch(console.log).finally(d):p().catch(console.log).finally(d));case"tui-page-btn tui-prev":return u.decrementPage(),console.log("page: ",u.page),void(g.filmsGallery.hasAttribute("data-feature")?I().catch(console.log).finally(d):p().catch(console.log).finally(d));case"tui-page-btn tui-next":return u.incrementPage(),console.log("page: ",u.page),void(g.filmsGallery.hasAttribute("data-feature")?I().catch(console.log).finally(d):p().catch(console.log).finally(d));case"tui-page-btn tui-first":return u.resetPage(),console.log("page: ",u.page),void(g.filmsGallery.hasAttribute("data-feature")?I().catch(console.log).finally(d):p().catch(console.log).finally(d));case"tui-page-btn tui-last":return u.setPage(u.filmsAmount/20),console.log("page: ",u.page),void(g.filmsGallery.hasAttribute("data-feature")?I().catch(console.log).finally(d):p().catch(console.log).finally(d));case"tui-page-btn tui-first-child":return u.resetPage(),console.log("page: ",u.page),void(g.filmsGallery.hasAttribute("data-feature")?I().catch(console.log).finally(d):p().catch(console.log).finally(d));case"tui-page-btn tui-prev-is-ellip tui-first-child":var t=document.querySelector(".tui-is-selected");return u.setPage(Number(t.textContent)),console.log("page: ",u.page),void(g.filmsGallery.hasAttribute("data-feature")?I().catch(console.log).finally(d):p().catch(console.log).finally(d));case"tui-page-btn tui-next-is-ellip tui-last-child":var n=document.querySelector(".tui-is-selected");return u.setPage(Number(n.textContent)),console.log("page: ",u.page),void(g.filmsGallery.hasAttribute("data-feature")?I().catch(console.log).finally(d):p().catch(console.log).finally(d));default:console.log("Hi!")}}}t("FWxf"),t("lAJ5"),t("Xlt+");var b=t("SzhR");t("DSQa"),t("SHTW"),t("Ri8E");function A(){window.removeEventListener("keydown",S),document.body.classList.remove("show-modal")}function S(e){"Escape"===e.code&&A()}n.openModalBtn.addEventListener("click",(function(){window.addEventListener("keydown",S),n.backdrop.classList.remove("is-hidden"),document.body.classList.add("show-modal")})),n.closeModalBtn.addEventListener("click",A),n.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&A()}));b.a.initializeApp({apiKey:"AIzaSyC7TRb9mfyMhzQU-yq3pDKTxl2-zaHwRmo",authDomain:"filmoteka-login.firebaseapp.com",databaseURL:"https://filmoteka-login-default-rtdb.europe-west1.firebasedatabase.app",projectId:"filmoteka-login",storageBucket:"filmoteka-login.appspot.com",messagingSenderId:"658952655924",appId:"1:658952655924:web:26304edc0b944079c1e661"});var w=new firebaseui.auth.AuthUI(b.a.auth());new b.a.auth.PhoneAuthProvider;var L=b.a.database().ref("users"),k="";console.log(k);var H={signInFlow:"popup",signInOptions:[b.a.auth.PhoneAuthProvider.PROVIDER_ID,b.a.auth.GoogleAuthProvider.PROVIDER_ID,b.a.auth.EmailAuthProvider.PROVIDER_ID,firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(e){if(e)return q(firebaseUser.uid),!0}}};function q(e){var a={userId:e,userWatched:[],userQueue:[]},t={};return t["users/"+e]=a,b.a.database().ref().update(t)}n.logOutbutton.addEventListener("click",(function(e){b.a.auth().signOut(),localStorage.removeItem("currentUserId"),window.location.reload()})),b.a.auth().onAuthStateChanged((function(e){if(e){var a=e.displayName;null===a&&(a="guest"),n.userName.innerHTML=""+a,document.body.classList.remove("show-modal"),n.logOutbutton.classList.remove("is-hidden"),n.openModalBtn.classList.add("is-hidden"),localStorage.setItem("currentUserId",JSON.stringify(e.uid)),k=JSON.parse(localStorage.getItem("currentUserId")),console.log(k),P(k)||q(k)}else n.userName.innerHTML="",n.openModalBtn.classList.remove("is-hidden"),n.logOutbutton.classList.add("is-hidden"),w.start("#firebaseui-auth-container",H)}));var D=t("VYoj"),T=t.n(D);t("v7UC");function P(e){var a={};return L.on("value",(function(t){a=t.val()[""+e],console.log(a)})),a}T.a.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!1,positionClass:"toast-bottom-right",preventDuplicates:!1,onclick:null,showDuration:"200",hideDuration:"400",timeOut:"2000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},L.on("value",(function(e){e.val()}));var G={header:document.querySelector(".header-container-js"),filmsGallery:document.querySelector("#films-gallery"),libraryBtn:document.querySelector(".navigation-list-item-link-my-library"),paginationContainer:document.querySelector("#pagination"),homeLink:document.querySelector(".navigation-list-item-link-home"),searchForm:document.querySelector("#search-form"),notice:document.querySelector(".header-search-warning-show")};function M(e){G.header.innerHTML="",G.header.insertAdjacentHTML("beforeend",e),G.libraryBtn.addEventListener("click",U)}function I(){return fetch(u.path+"/trending/movie/day?api_key="+u.key+"&page="+u.page).then((function(e){return e.json()})).then((function(e){var a=e.results,t=e.total_results;G.filmsGallery.innerHTML="",a.map((function(e){var a=e.id,t=e.poster_path,n=e.title,s=e.release_date,r=e.genre_ids,l=i.filter((function(e){return r.includes(e.id)})).map((function(e){return e.name})),o=[];l.length<3?o=l:(o=l.slice(0,2)).push("Other");var c='\n<li class="films-gallery-item" data-id="'+a+'">\n  <img\n    class="films-gallery-item-image"\n    src="https://image.tmdb.org/t/p/w342'+t+'"\n    alt="«'+n+'» film poster"\n  >\n  <p class="films-gallery-item-title">'+n.toUpperCase()+'</p>\n  <p class="films-gallery-item-info">'+o.join(", ")+" | "+s.split("-")[0]+"</p>\n</li>\n";G.filmsGallery.insertAdjacentHTML("beforeend",c)})),u.setFilmsAmount(t),console.log("apiServise.filmsAmount: ",u.filmsAmount)}))}function U(e){e.preventDefault(),G.homeLink.classList.remove("current"),G.libraryBtn.classList.add("current");var a=function(e){if(e){var a=[];return L.on("value",(function(t){a=t.val()[""+e].userWatched})),a}}(k),t=function(e){if(e){var a=[];return L.on("value",(function(t){a=t.val()[""+e].userQueue})),a}T.a.error("Please LOG IN to create Your Library")}(k);M(s.myLibraryHeader),document.querySelector(".modal")&&document.querySelector(".modal").remove();var n=document.querySelector(".header-button-watched"),i=document.querySelector(".header-button-queue");function r(e,a,t){e.addEventListener("click",(function(n){n.preventDefault(),l(t),a.classList.remove("is-active-btn"),e.classList.add("is-active-btn")}))}function l(e){G.filmsGallery.innerHTML="",e.map((function(e){var a=e.id,t=e.poster_path,n=e.title,s=e.release_date,i=e.genres,r=e.vote_average,l='\n<li class="films-gallery-item" data-id="'+a+'">\n  <img\n    class="films-gallery-item-image"\n    src="https://image.tmdb.org/t/p/w342'+t+'"\n    alt="«'+n+'» film poster"\n  >\n  <p class="films-gallery-item-title">'+n.toUpperCase()+'</p>\n  <p class="films-gallery-item-info">'+i.join(", ")+" | "+s+'<span class="modal-info-vote-average library">'+r+"</span></p>\n</li>\n";G.filmsGallery.insertAdjacentHTML("beforeend",l)}))}G.filmsGallery.innerHTML="",G.paginationContainer.style.display="none",l(a),r(i,n,t),r(n,i,a)}t("PzF0");var E=t("dcBu"),C=t("LlGi"),O='<div class="team-wrapper">\n<div class="team-card">\n <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01301DGATC-U013V8Q7HU1-b66c40babb7d-192"\n  >\n    <p class="team-name">Rostyslav Zahorulko</p>\n    <p class="team-role">Team Lead</p>\n    \n</div>\n<div class="team-card">\n     <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U01A5LX36UT-d79e95c64409-5122"\n  >\n    <p class="team-name">Arkadii Basovych</p>\n    <p class="team-role">Scrum Master</p>\n    \n</div>\n<div class="team-card">\n    <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U01A9LTBZA8-06cbe1fcd7b6-512"\n  >\n    <p class="team-name">Oksana Cherepanova</p>\n    <p class="team-role">Developer</p>\n    \n</div>\n<div class="team-card">\n    <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U019WN8GZJS-380c6cd06280-512"\n  >\n    <p class="team-name">Natalia Duvirak</p>\n    <p class="team-role">Developer</p>\n    \n</div>\n<div class="team-card">\n    <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U01AT710YLQ-3a6d16128ec7-512"\n  >\n    <p class="team-name">David<br>Shakaya</p>\n    <p class="team-role">Developer</p>\n    \n</div>\n<div class="team-card">\n    <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U01A3HTTQE6-4c9caf01316f-512"\n  >\n    <p class="team-name">Oleksii Maistriuk</p>\n    <p class="team-role">Developer</p>\n    \n</div>\n<div class="team-card">\n   <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U01ATCQ5GKA-46dd5abf2215-512"\n  >\n    <p class="team-name">Zoe<br>Baletska</p>\n    <p class="team-role">Developer</p>\n    \n</div>\n<div class="team-card">\n    <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U019WKPR89L-21c1789a67bc-512"\n  >\n    <p class="team-name">Serhii<br>Koziuba</p>\n    <p class="team-role">Developer</p>\n    \n</div>\n<div class="team-card">\n    <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U019WP9NVN2-6122ddfef0b5-512"\n  >\n    <p class="team-name">Konstantin Bruno</p>\n    <p class="team-role">Developer</p>\n    \n</div>\n<div class="team-card">\n    <img\n    class="team-image"\n    src="'+t.n(C).a+'"\n  >\n    <p class="team-name">Iryna<br>Redka</p>\n    <p class="team-role">Developer</p>\n    \n</div>\n<div class="team-card">\n   <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U019P8QMTUP-6513aed3ebc7-512"\n  >\n    <p class="team-name">Larysa Smyrnova</p>\n    <p class="team-role">Developer</p>\n</div>\n</div>';document.querySelector(".open-modal-develop").addEventListener("click",(function(e){B.show(),window.addEventListener("keydown",(function e(a){"Escape"===a.code&&(B.close(),window.removeEventListener("keydown",e))}))}));var j,B=E.create(O);j=s.homeHeader,y(),G.filmsGallery.setAttribute("data-feature","trends"),console.log(G.filmsGallery),u.resetPage(),c(),M(j),I().then((function(){f()})).catch(console.log).finally(d),h();var N={filmsGallery:document.querySelector("#films-gallery"),searchForm:document.querySelector("#search-form"),notice:document.querySelector(".header-search-warning-show")};console.log(N.filmsGallery),console.log(N.searchForm),console.log(N.notice),N.searchForm.addEventListener("submit",(function(e){e.preventDefault(),y(),m.filmsGallery.removeAttribute("data-feature"),console.log(m.filmsGallery),u.resetPage();var a=e.currentTarget,t=a.elements.query;if(""===t.value)return m.notice.classList.remove("is-hidden"),void(m.notice.textContent="Unable to make a search query. Please enter any text!");u.setQuery(t.value),c(),p().then((function(){f(u.filmsAmount)})).catch(console.log).finally(d),h(),a.reset()}))}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.24ffb964226c68442883.js.map