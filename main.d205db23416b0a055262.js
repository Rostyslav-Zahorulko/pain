(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0HMw":function(e,a,t){},LlGi:function(e,a,t){e.exports=t.p+"images/photo-red.jpg"},QfWi:function(e,a,t){"use strict";t.r(a);t("0HMw");var n={headerSearchWarningShow:function(){return document.querySelector("#header-search-warning-show")},filmsGallery:document.querySelector("#films-gallery"),header:document.querySelector(".header-container-js"),logo:document.querySelector(".header-logo-js"),homeLink:document.querySelector(".navigation-list-item-link-home"),spinner:document.querySelector(".js-spinner"),openModalBtn:document.querySelector('[data-action="open-modal"]'),closeModalBtn:document.querySelector('[data-action="close-modal"]'),backdrop:document.querySelector(".js-backdrop"),logOutbutton:document.querySelector(".js-singOut-button"),userName:document.querySelector(".js-display-username"),paginationContainer:document.querySelector("#pagination")},s=(t("lYjL"),t("IvQZ"),t("8cZI"),t("lmye"),t("WB5j"),t("D/wG"),t("JBxO"),t("FdtR"),t("QDHd"),t("Muwe"),t("4NM0"),t("aZFp"),{homeHeader:'<div class=" header home-header header-container">\n  \n  <form action="" class="header-search-form" id="search-form">\n    <input type="text" name="query" class="header-search-form-input" placeholder="Поиск фильмов">\n    <button class="header-search-form-btn" type="submit"></button>\n  </form>\n  <p id="header-search-warning-show"  class="header-search-warning-show is-hidden">Search result not successful. Enter the correct movie name and</p>\n',myLibraryHeader:'<div class=" header my-library-header header-container">\n  \n  <ul class="header-button-list">\n    <li class="header-button-item"><button class="header-button header-button-watched is-active-btn">watched</button></li>\n    <li class="header-button-item"><button class="header-button header-button-queue">queue</button></li>\n  </ul>\n',modalHeader:'<div class="header modal-header header-container">\n'}),i=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],r=(t("fp7Y"),t("2c84")),l=t.n(r),o=document.querySelector(".js-spinner");function c(){o.classList.add("is-open")}function d(){o.classList.remove("is-open")}var u={query:"",page:1,filmsAmount:0,path:"https://api.themoviedb.org/3",key:"ffddee44025dd24685ea61d637d56d24",trendsUrl:"",setQuery:function(e){this.query=e},setPage:function(e){this.page=e},incrementPage:function(){this.page+=1},decrementPage:function(){this.page-=1},resetPage:function(){this.page=1},setFilmsAmount:function(e){this.filmsAmount=e}},m={filmsGallery:document.querySelector("#films-gallery"),searchForm:document.querySelector("#search-form"),notice:document.querySelector(".header-search-warning-show")};function p(e){e.preventDefault(),v(),m.filmsGallery.removeAttribute("data-feature"),console.log(m.filmsGallery),u.resetPage();var a=document.querySelector(".header-search-warning-show");console.log("noticeRef: ",a),a.classList.add("is-hidden");var t=e.currentTarget,n=t.elements.query;if(""===n.value)return a.classList.remove("is-hidden"),void(a.textContent="Unable to make a search query. Please enter any text!");u.setQuery(n.value),c(),g().then((function(){f(u.filmsAmount)})).catch(console.log).finally(d),y(),t.reset()}function g(){return fetch("https://api.themoviedb.org/3/search/movie?api_key=ffddee44025dd24685ea61d637d56d24&language=en-US&page="+u.page+"&include_adult=false&query="+u.query).then((function(e){return e.json()})).then((function(e){var a=e.results,t=e.total_results,n=document.querySelector(".header-search-warning-show");if(console.log("noticeRef: ",n),0===a.length)return n.classList.remove("is-hidden"),void(n.textContent="Your search did not match any films. Please clarify the request!");m.filmsGallery.innerHTML="",a.map((function(e){var a=e.id,t=e.poster_path,n=e.title,s=e.release_date,r=e.genre_ids,l=i.filter((function(e){return r.includes(e.id)})).map((function(e){return e.name})),o=[];l.length<3?o=l:(o=l.slice(0,2)).push("Other");var c='\n<li class="films-gallery-item" data-id="'+a+'">\n  <img\n    class="films-gallery-item-image"\n    src="https://image.tmdb.org/t/p/w342'+t+'"\n    alt="«'+n+'» film poster"\n  >\n  <p class="films-gallery-item-title">'+n.toUpperCase()+'</p>\n  <p class="films-gallery-item-info">'+o.join(", ")+" | "+s.split("-")[0]+"</p>\n</li>\n";m.filmsGallery.insertAdjacentHTML("beforeend",c)})),u.setFilmsAmount(t),console.log("apiServise.filmsAmount: ",u.filmsAmount)}))}var h={filmsGallery:document.querySelector("#films-gallery"),paginationContainer:document.querySelector("#pagination")};function f(){var e={totalItems:u.filmsAmount,itemsPerPage:20,visiblePages:5,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}};new l.a("pagination",e)}function y(){h.paginationContainer.addEventListener("click",b),console.log("apiServise.page: ",u.page),console.log("Start")}function v(){h.paginationContainer.removeEventListener("click",b),console.log("apiServise.page: ",u.page),console.log("Stop")}function b(e){if("A"===e.target.nodeName){h.filmsGallery.innerHTML="",c();var a=e.target;switch(console.log("refs.filmsGallery.hasAttribute('data-feature'): ",h.filmsGallery.hasAttribute("data-feature")),a.className){case"tui-page-btn":return u.setPage(Number(a.textContent)),console.log("page: ",u.page),void(h.filmsGallery.hasAttribute("data-feature")?U().catch(console.log).finally(d):g().catch(console.log).finally(d));case"tui-page-btn tui-prev":return u.decrementPage(),console.log("page: ",u.page),void(h.filmsGallery.hasAttribute("data-feature")?U().catch(console.log).finally(d):g().catch(console.log).finally(d));case"tui-page-btn tui-next":return u.incrementPage(),console.log("page: ",u.page),void(h.filmsGallery.hasAttribute("data-feature")?U().catch(console.log).finally(d):g().catch(console.log).finally(d));case"tui-page-btn tui-first":return u.resetPage(),console.log("page: ",u.page),void(h.filmsGallery.hasAttribute("data-feature")?U().catch(console.log).finally(d):g().catch(console.log).finally(d));case"tui-page-btn tui-last":return u.setPage(u.filmsAmount/20),console.log("page: ",u.page),void(h.filmsGallery.hasAttribute("data-feature")?U().catch(console.log).finally(d):g().catch(console.log).finally(d));case"tui-page-btn tui-first-child":return u.resetPage(),console.log("page: ",u.page),void(h.filmsGallery.hasAttribute("data-feature")?U().catch(console.log).finally(d):g().catch(console.log).finally(d));case"tui-page-btn tui-prev-is-ellip tui-first-child":var t=document.querySelector(".tui-is-selected");return u.setPage(Number(t.textContent)),console.log("page: ",u.page),void(h.filmsGallery.hasAttribute("data-feature")?U().catch(console.log).finally(d):g().catch(console.log).finally(d));case"tui-page-btn tui-next-is-ellip tui-last-child":var n=document.querySelector(".tui-is-selected");return u.setPage(Number(n.textContent)),console.log("page: ",u.page),void(h.filmsGallery.hasAttribute("data-feature")?U().catch(console.log).finally(d):g().catch(console.log).finally(d));default:console.log("Hi!")}}}t("FWxf"),t("lAJ5"),t("Xlt+");var S=t("SzhR");t("DSQa"),t("SHTW"),t("Ri8E");function w(){window.removeEventListener("keydown",A),document.body.classList.remove("show-modal")}function A(e){"Escape"===e.code&&w()}n.openModalBtn.addEventListener("click",(function(){window.addEventListener("keydown",A),n.backdrop.classList.remove("is-hidden"),document.body.classList.add("show-modal")})),n.closeModalBtn.addEventListener("click",w),n.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&w()}));S.a.initializeApp({apiKey:"AIzaSyC7TRb9mfyMhzQU-yq3pDKTxl2-zaHwRmo",authDomain:"filmoteka-login.firebaseapp.com",databaseURL:"https://filmoteka-login-default-rtdb.europe-west1.firebasedatabase.app",projectId:"filmoteka-login",storageBucket:"filmoteka-login.appspot.com",messagingSenderId:"658952655924",appId:"1:658952655924:web:26304edc0b944079c1e661"});var L=new firebaseui.auth.AuthUI(S.a.auth());new S.a.auth.PhoneAuthProvider;var k=S.a.database().ref("users"),H="";console.log(H);var q={signInFlow:"popup",signInOptions:[S.a.auth.PhoneAuthProvider.PROVIDER_ID,S.a.auth.GoogleAuthProvider.PROVIDER_ID,S.a.auth.EmailAuthProvider.PROVIDER_ID,firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(e){if(e)return D(firebaseUser.uid),!0}}};function D(e){var a={userId:e,userWatched:[],userQueue:[]},t={};return t["users/"+e]=a,S.a.database().ref().update(t)}n.logOutbutton.addEventListener("click",(function(e){S.a.auth().signOut(),localStorage.removeItem("currentUserId"),window.location.reload()})),S.a.auth().onAuthStateChanged((function(e){if(e){var a=e.displayName;null===a&&(a="guest"),n.userName.innerHTML=""+a,document.body.classList.remove("show-modal"),n.logOutbutton.classList.remove("is-hidden"),n.openModalBtn.classList.add("is-hidden"),localStorage.setItem("currentUserId",JSON.stringify(e.uid)),H=JSON.parse(localStorage.getItem("currentUserId")),console.log(H),G(H)||D(H)}else n.userName.innerHTML="",n.openModalBtn.classList.remove("is-hidden"),n.logOutbutton.classList.add("is-hidden"),L.start("#firebaseui-auth-container",q)}));var T=t("VYoj"),P=t.n(T);t("v7UC");function G(e){var a={};return k.on("value",(function(t){a=t.val()[""+e],console.log(a)})),a}P.a.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!1,positionClass:"toast-bottom-right",preventDuplicates:!1,onclick:null,showDuration:"200",hideDuration:"400",timeOut:"2000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},k.on("value",(function(e){e.val()}));var M={header:document.querySelector(".header-container-js"),filmsGallery:document.querySelector("#films-gallery"),libraryBtn:document.querySelector(".navigation-list-item-link-my-library"),paginationContainer:document.querySelector("#pagination"),homeLink:document.querySelector(".navigation-list-item-link-home"),searchForm:document.querySelector("#search-form"),notice:document.querySelector(".header-search-warning-show")};function I(e){M.header.innerHTML="",M.header.insertAdjacentHTML("beforeend",e),M.libraryBtn.addEventListener("click",E)}function U(){return fetch(u.path+"/trending/movie/day?api_key="+u.key+"&page="+u.page).then((function(e){return e.json()})).then((function(e){var a=e.results,t=e.total_results;M.filmsGallery.innerHTML="",a.map((function(e){var a=e.id,t=e.poster_path,n=e.title,s=e.release_date,r=e.genre_ids,l=i.filter((function(e){return r.includes(e.id)})).map((function(e){return e.name})),o=[];l.length<3?o=l:(o=l.slice(0,2)).push("Other");var c='\n<li class="films-gallery-item" data-id="'+a+'">\n  <img\n    class="films-gallery-item-image"\n    src="https://image.tmdb.org/t/p/w342'+t+'"\n    alt="«'+n+'» film poster"\n  >\n  <p class="films-gallery-item-title">'+n.toUpperCase()+'</p>\n  <p class="films-gallery-item-info">'+o.join(", ")+" | "+s.split("-")[0]+"</p>\n</li>\n";M.filmsGallery.insertAdjacentHTML("beforeend",c)})),u.setFilmsAmount(t),console.log("apiServise.filmsAmount: ",u.filmsAmount)}))}function E(e){e.preventDefault(),M.homeLink.classList.remove("current"),M.libraryBtn.classList.add("current");var a=function(e){if(e){var a=[];return k.on("value",(function(t){a=t.val()[""+e].userWatched})),a}}(H),t=function(e){if(e){var a=[];return k.on("value",(function(t){a=t.val()[""+e].userQueue})),a}P.a.error("Please LOG IN to create Your Library")}(H);I(s.myLibraryHeader),document.querySelector(".modal")&&document.querySelector(".modal").remove();var n=document.querySelector(".header-button-watched"),i=document.querySelector(".header-button-queue");function r(e,a,t){e.addEventListener("click",(function(n){n.preventDefault(),l(t),a.classList.remove("is-active-btn"),e.classList.add("is-active-btn")}))}function l(e){M.filmsGallery.innerHTML="",e.map((function(e){var a=e.id,t=e.poster_path,n=e.title,s=e.release_date,i=e.genres,r=e.vote_average,l='\n<li class="films-gallery-item" data-id="'+a+'">\n  <img\n    class="films-gallery-item-image"\n    src="https://image.tmdb.org/t/p/w342'+t+'"\n    alt="«'+n+'» film poster"\n  >\n  <p class="films-gallery-item-title">'+n.toUpperCase()+'</p>\n  <p class="films-gallery-item-info">'+i.join(", ")+" | "+s+'<span class="modal-info-vote-average library">'+r+"</span></p>\n</li>\n";M.filmsGallery.insertAdjacentHTML("beforeend",l)}))}M.filmsGallery.innerHTML="",M.paginationContainer.style.display="none",l(a),r(i,n,t),r(n,i,a)}t("PzF0");var C=t("dcBu"),O=t("LlGi"),j='<div class="team-wrapper">\n<div class="team-card">\n <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01301DGATC-U013V8Q7HU1-b66c40babb7d-192"\n  >\n    <p class="team-name">Rostyslav Zahorulko</p>\n    <p class="team-role">Team Lead</p>\n    \n</div>\n<div class="team-card">\n     <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U01A5LX36UT-d79e95c64409-5122"\n  >\n    <p class="team-name">Arkadii Basovych</p>\n    <p class="team-role">Scrum Master</p>\n    \n</div>\n<div class="team-card">\n    <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U01A9LTBZA8-06cbe1fcd7b6-512"\n  >\n    <p class="team-name">Oksana Cherepanova</p>\n    <p class="team-role">Developer</p>\n    \n</div>\n<div class="team-card">\n    <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U019WN8GZJS-380c6cd06280-512"\n  >\n    <p class="team-name">Natalia Duvirak</p>\n    <p class="team-role">Developer</p>\n    \n</div>\n<div class="team-card">\n    <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U01AT710YLQ-3a6d16128ec7-512"\n  >\n    <p class="team-name">David<br>Shakaya</p>\n    <p class="team-role">Developer</p>\n    \n</div>\n<div class="team-card">\n    <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U01A3HTTQE6-4c9caf01316f-512"\n  >\n    <p class="team-name">Oleksii Maistriuk</p>\n    <p class="team-role">Developer</p>\n    \n</div>\n<div class="team-card">\n   <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U01ATCQ5GKA-46dd5abf2215-512"\n  >\n    <p class="team-name">Zoe<br>Baletska</p>\n    <p class="team-role">Developer</p>\n    \n</div>\n<div class="team-card">\n    <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U019WKPR89L-21c1789a67bc-512"\n  >\n    <p class="team-name">Serhii<br>Koziuba</p>\n    <p class="team-role">Developer</p>\n    \n</div>\n<div class="team-card">\n    <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U019WP9NVN2-6122ddfef0b5-512"\n  >\n    <p class="team-name">Konstantin Bruno</p>\n    <p class="team-role">Developer</p>\n    \n</div>\n<div class="team-card">\n    <img\n    class="team-image"\n    src="'+t.n(O).a+'"\n  >\n    <p class="team-name">Iryna<br>Redka</p>\n    <p class="team-role">Developer</p>\n    \n</div>\n<div class="team-card">\n   <img\n    class="team-image"\n    src="https://ca.slack-edge.com/T01AD58HHH7-U019P8QMTUP-6513aed3ebc7-512"\n  >\n    <p class="team-name">Larysa Smyrnova</p>\n    <p class="team-role">Developer</p>\n</div>\n</div>';document.querySelector(".open-modal-develop").addEventListener("click",(function(e){R.show(),window.addEventListener("keydown",(function e(a){"Escape"===a.code&&(R.close(),window.removeEventListener("keydown",e))}))}));var B,R=C.create(j);B=s.homeHeader,v(),M.filmsGallery.setAttribute("data-feature","trends"),console.log(M.filmsGallery),u.resetPage(),c(),I(B),U().then((function(){f()})).catch(console.log).finally(d),y();document.querySelector("#search-form");!function(){var e=document.querySelector("#search-form");console.log("searchFormRef: ",e),e.addEventListener("submit",p)}()}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.d205db23416b0a055262.js.map